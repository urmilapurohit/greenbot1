function validateForm(){return addressValidation(),removeSolarElecticianValidation(),$.validator.unobtrusive.parse("#UserDetails"),!!($("#UserDetails").valid()&&CheckShowMessages()&&addRules())||(addRules(),!1)}function ChangeUserType(e){$("#RecUsernamePwd").hide(),$("input[type=text]").each(function(){$(this).attr("class","form-control valid")}),$(".field-validation-error").attr("class","field-validation-valid"),""==e?defaultHideField():1==e?($(".RA").hide(),$(".RAM").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".SCO").hide(),$(".SE").hide(),$(".SSC").hide(),$(".FSA").show(),$(".defaultFormBot").show(),$(".Profile").show()):2==e?($(".FSA").hide(),$(".FCO").hide(),$(".RAM").hide(),$(".SCA").hide(),$(".SCO").hide(),$(".SSC").hide(),$(".SE").hide(),$(".RA").show(),"3"==$("#UsageType").val()&&$(".SAAS").show(),$(".defaultFormBot").show(),$(".SCOProfile").show(),$(".ThemeProfileRA").show()):3==e?($(".FSA").hide(),$(".RA").hide(),$(".RAM").hide(),$(".SCA").hide(),$(".SCO").hide(),$(".SE").hide(),$(".SSC").hide(),$(".FCO").show(),$(".defaultFormBot").show(),$(".Profile").show()):4==e?($(".FSA").hide(),$(".FCO").hide(),$(".RA").hide(),$(".RAM").hide(),$(".SCO").hide(),$(".SE").hide(),$(".SSC").hide(),$(".SCA").show(),$(".defaultFormBot").show(),$("#lblCECAccreditationNumber").addClass("required")):5==e?($(".RA").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".FSA").hide(),$(".SCO").hide(),$(".SE").hide(),$(".SSC").hide(),$(".RAM").show(),$(".defaultFormBot").show(),$(".Profile").show()):6==e?($(".RA").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".FSA").hide(),$(".SCO").hide(),$(".RAM").hide(),$(".SE").hide(),$(".SSC").show(),$(".defaultFormBot").show()):7==e?($(".RA").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".FSA").hide(),$(".SCO").hide(),$(".RAM").hide(),$(".SSC").hide(),$(".SE").show(),$(".defaultFormBot").show(),$("#lblCECAccreditationNumber").addClass("required")):8==e?($(".RA").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".FSA").hide(),$(".RAM").hide(),$(".SE").hide(),$(".SSC").hide(),$(".SCO").show(),$(".defaultFormBot").show(),$(".ProfileSCO").show(),$(".SCOProfile").hide()):($(".RA").hide(),$(".SCA").hide(),$(".FCO").hide(),$(".FSA").hide(),$(".RAM").hide(),$(".SE").hide(),$(".SSC").hide(),$(".SC0").hide(),$(".SC").show())}function getNameFromPath(e){var i=new RegExp(/([^\/\\]+)$/),o=i.exec(e);return null==o?null:o[0]}function changeTheme(e,i){$(".theme-colors").find("button").not(e).removeClass("active"),$(".theme-colors").find("[id="+e+"]").addClass("active"),$("#hiddenTheme").val(i)}function getDropDownValue(){return removeSolarElecticianValidation(),!!validateForm()&&(SetSignature(),!0)}function checkExist(e,i){var o=e.id,s="",r=e.value;"CompanyABN"==o?2==sessionUserTypeId&&""!=r&&null!=r&&$.ajax({url:BaseURL+"CheckUserExist/User",data:{UserValue:r,FieldName:o,userId:userID,resellerID:resellerID},contentType:"application/json",method:"get",success:function(e){return 0==e?(s=!1,$(".alert").hide(),$("#errorMsgRegion").html(closeButton+"User with same "+i+" already exists."),$("#errorMsgRegion").show()):s=!0,"UserName"==o?chkUserName=s:"CompanyABN"==o?chkCompanyABN=s:"CECAccreditationNumber"==o?chkCECAccreditationNumber=s:"LoginCompanyName"==o&&(chkLoginCompanyName=s),!1}}):""!=r&&null!=r&&$.ajax({url:BaseURL+"CheckUserExist/User",data:{UserValue:r,FieldName:o,userId:userID,resellerID:resellerID},contentType:"application/json",method:"get",success:function(e){return 0==e?(s=!1,$(".alert").hide(),$("#errorMsgRegion").html(closeButton+"User with same "+i+" already exists."),$("#errorMsgRegion").show()):s=!0,"UserName"==o?chkUserName=s:"CompanyABN"==o?chkCompanyABN=s:"CECAccreditationNumber"==o?chkCECAccreditationNumber=s:"LoginCompanyName"==o&&(chkLoginCompanyName=s),!1}})}function addRules(){return 7!=sessionUserTypeId&&4!=sessionUserTypeId||$("#CECAccreditationNumber").rules("add",{required:!0,messages:{required:"CEC Accreditation Number is required."}}),4!=sessionUserTypeId&&6!=sessionUserTypeId&&8!=sessionUserTypeId||removeValidationOnTabChangeInstallerDesigner(),$("#Password").rules("add",{required:!1}),1!=$("#chkSCA").is(":checked")||(0!=$("#tblDocuments1 tr").length||($(".alert").hide(),$("#errorMsgRegion").html(closeButton+"Please upload atleast one proof of identity document."),$("#errorMsgRegion").show(),!1))}function DeleteDocumentFolderOnCancel(){var e=USERID,i=[];i=document.getElementsByName("FileNamesCreate");var o=document.getElementsByName("Signature");o[0].id;if(i.length>0)for(var s=0;s<i.length;s++){var r=i[s].id;DeleteFileFromUserOnCancel(r,e)}}function SetSignature(){$("#EmailSignature").val(CKEDITOR.instances.editor.getData())}function addressValidation(){$("#Password").rules("add",{required:!1}),$("#UnitTypeId").rules("add",{required:!1}),$("#UnitNumber").rules("add",{required:!1}),""==$("#UnitTypeId").val()&&""==$("#UnitNumber").val()&&($("#lblUnitNumber").removeClass("required"),$("#lblUnitTypeID").removeClass("required"),$("#UnitNumber").rules("add",{required:!1}),$("#UnitTypeId").rules("add",{required:!1}),$("#UnitNumber").next("span").attr("class","field-validation-valid"),$("#lblStreetNumber").addClass("required"),$("#StreetNumber").rules("add",{required:!0,messages:{required:"Street Number is required."}})),$("#UnitTypeId").val()>0&&""!=$("#UnitNumber").val()&&($("#lblStreetNumber").removeClass("required"),$("#StreetNumber").rules("add",{required:!1}),$("#lblUnitNumber").removeClass("required"),$("#lblUnitTypeID").removeClass("required"),$("#UnitNumber").rules("add",{required:!1}),$("#UnitTypeId").rules("add",{required:!1})),$("#UnitTypeId").val()>0&&""==$("#UnitNumber").val()&&($("#UnitNumber").rules("add",{required:!0,messages:{required:"Unit Number is required."}}),$("#lblUnitNumber").addClass("required"),$("#lblStreetNumber").removeClass("required"),$("#StreetNumber").rules("add",{required:!1})),""==$("#UnitTypeId").val()&&""!=$("#UnitNumber").val()&&($("#lblUnitNumber").removeClass("required"),$("#lblUnitTypeID").removeClass("required"),$("#UnitNumber").rules("add",{required:!1}),$("#UnitTypeId").rules("add",{required:!1}),$("#lblStreetNumber").addClass("required"),$("#StreetNumber").rules("add",{required:!0,messages:{required:"Street Number is required."}}))}$(document).ready(function(){if("2"==sessionUserTypeId&&($("#t5").show(),$(".tab5").show()),$("#RecUsernamePwd").hide(),setTimeout(function(){$(".form-box").find("input:first").focus()},500),dropDownData.push({id:"UnitTypeId",value:unitTypeID,key:"UnitType",hasSelect:!0,callback:null,defaultText:null,proc:"UnitType_BindDropdown",param:[],bText:"UnitTypeName",bValue:"UnitTypeID"},{id:"StreetTypeId",value:streetTypeId,key:"StreetType",hasSelect:!0,callback:null,defaultText:null,proc:"StreetType_BindDropdown",param:[],bText:"StreetTypeName",bValue:"StreetTypeID"},{id:"PostalAddressID",value:postalAddressID,key:"PostalAddress",hasSelect:!0,callback:null,defaultText:null,proc:"PostalAddress_BindDropdown",param:[],bText:"PostalDeliveryType",bValue:"PostalAddressID"}),dropDownData.bindDropdown(),$("#t4").show(),$("#popupbox1").modal({backdrop:"static",keyboard:!1}),$("#imgSign").css("height","300px"),$("#signMyProfile").css("height","300px"),$("#imgFile").css("height","400px"),$("#MainDiv").css("height","400px"),$("#ConfigurationPassword").val(modelConfigPassword),7==sessionUserTypeId&&($("#FirstName").prop("readonly",!0),$("#LastName").prop("readonly",!0),$("#Email").prop("readonly",!0),$("#Phone").prop("readonly",!0),$("#IsActive").prop("readonly",!0),$("#CompanyABN").prop("readonly",!0),$("#UnitNumber").prop("readonly",!0),$("#txtTown").prop("readonly",!0),$("#PostalDeliveryNumber").prop("readonly",!0),$("#AddressID").prop("disabled",!0),$("#PostalAddressID").prop("disabled",!0),$("#StreetNumber").prop("readonly",!0),$("#StreetName").prop("readonly",!0),$("#CompanyWebsite").prop("readonly",!0),$("#txtPostCode").prop("readonly",!0),$("#BSB").prop("readonly",!0),$("#AccountNumber").prop("readonly",!0),$("#AccountName").prop("readonly",!0),$("#CECAccreditationNumber").prop("readonly",!0),$("#ElectricalContractorsLicenseNumber").prop("readonly",!0),$("#CECDesignerNumber").prop("readonly",!0),$("#UserTypeId").prop("readonly",!0),$("#ResellerID").prop("readonly",!0),$("#SolarCompanyId").prop("readonly",!0),$("#CompanyName").prop("disabled",!0),$("#UnitTypeId").prop("disabled",!0),$("#StreetTypeId").prop("disabled",!0)),$(".MyProfileConfigure").css("max-height","500px"),$(".MyProfileConfigure").css("overflow-y","auto"),$("#btnClosePopUpBox").click(function(){$("#popupbox").modal("toggle")}),$("#btnClosePopUpBoxSE").click(function(){$("#popupboxSE").modal("toggle")}),$("#btnClosepopupProof").click(function(){$("#popupProof").modal("toggle")}),$("#btnCloseConfigure").click(function(){$("#myModal1").modal("hide")}),$("#btnClosepopupboxlogo").click(function(){$("#popupboxlogo").modal("toggle")}),$("#btnClosePopUpBoxSelfie").click(function(){$("#popupboxSelfie").modal("toggle")}),""==strFromDate&&$("#fromDate").val(""),"0001-01-01"==strToDate&&$("#toDate").val(""),4==sessionUserTypeId&&(0==chkSTC?($(".chkisSTC").hide(),$(".chkSCASignUp").hide()):$(".chkSCASignUp").show()),null!=sessionLogo&&null!=sessionTheme&&""!=sessionLogo&&""!=sessionTheme&&($("#imgLogo").attr("src",sessionSiteURLBase+sessionLogo),$("body").attr("id",sessionTheme)),$("[name=SEDesigner][value="+SEDesigner+"]").prop("checked",!0),$("#horizontalTab").easyResponsiveTabs({type:"default",width:"auto",fit:!0,closed:"accordion",activate:function(e){addressValidation(),$("#Password").rules("add",{required:!1});var i=$(this);if(!(isValid&&CheckShowMessages()&&addRules()))return i.removeClass("resp-tab-active"),$(".resp-tab-content-active").css("display","none").removeClass("resp-tab-content-active"),$("#"+activeTab).addClass("resp-tab-active"),$(".tab"+activeTab.replace("t","")).addClass("resp-tab-content-active").css("display","block"),CheckShowMessages(),addRules(),!1;if(activeTab=i.attr("id"),"t4"==activeTab&&(initSample(),CKEDITOR.config.height=150,""!=viewBagSignature)){var o=dataSignature;CKEDITOR.instances.editor.setData(o.Data.Signature)}if("t5"==activeTab&&(initSample_Rec(),""!=viewBagRECEmailSign)){o=dataRECEmailSign;CKEDITOR.instances.editor_Rec.setData(o.Data.Signature)}"t6"==activeTab&&$.ajax({type:"GET",url:getInstallerDesignerAddedByProfileURL,data:{usertypeId:userTypeId,solarcompanyId:modelSolarCompanyId},contentType:"application/json",success:function(e){$("instDesignerAddedByProfile").html(e)}})}}),GetCompanyNameFromCompanyABN(companyABN,$("#CompanyName"),companyName,!1),0!=sessionUserTypeId&&ChangeUserType(userTypeId),4==sessionUserTypeId&&$("#CompanyABN").prop("readonly",!0),$("#verticalTab").easyResponsiveTabs({type:"vertical",width:"auto",fit:!0}),addressID=addressId,POAddress(addressID),$("#AddressID").val(parseInt(addressId)),""!=$("#imgSign").attr("src")&&""!=oldFileName){var e=$("#imgSign").attr("src"),i=modelUserId,o=o,s=o+"UserDocuments/"+i,r=s+"/"+e;SRCSign=r,$("#imgSign").attr("class",e),$("#imgSignature").show()}if(""!=$("#imgLG").attr("src")){var t="Images/logo.png";if(sessionLogo!=t){e=$("#imgLG").attr("src"),i=modelUserId,o=o,r=o+"UserDocuments/"+e;SRCLG=r,$("#imgLG").attr("class",e),$("#imgViewLogo").show()}}$("#btnCancelLast").hide(),$("#btnCancel").hide(),$(".chkActive").hide(),$(".viewPre").show(),""==$("#UnitTypeId option:selected").val()?($("#lblUnitNumber").removeClass("required"),$("#lblUnitTypeID").removeClass("required"),$("#lblStreetNumber").addClass("required")):($("#lblUnitNumber").addClass("required"),$("#lblUnitTypeID").addClass("required"),$("#lblStreetNumber").removeClass("required")),8==sessionUserTypeId&&($(".Profile").show(),$(".SCOProfile").hide()),2==sessionUserTypeId&&($(".SCOProfile").show(),$(".ProfileSCO").show()),4==sessionUserTypeId&&($(".SCOProfile").show(),$(".ProfileSCO").show(),$(".SCAPrev").show()),9==sessionUserTypeId&&($(".SCProfile").hide(),$(".SCO").hide(),$(".SC").show(),$(".ProfileSCO").show(),$(".SCOProfile").show()),7==sessionUserTypeId&&($(".SCProfile").hide(),$(".SCO").hide(),$(".SC").show(),$(".ProfileSCO").show(),$(".SCOProfile").show()),6==sessionUserTypeId&&($(".SCProfile").hide(),$(".SCO").hide(),$(".SC").show(),$(".ProfileSCO").show(),$(".SCOProfile").show()),2==modelTheme&&($(".theme-colors").find("button").not("green").removeClass("active"),$(".theme-colors").find('[id="blue"]').addClass("active")),3==modelTheme&&($(".theme-colors").find("button").not("green").removeClass("active"),$(".theme-colors").find('[id="pink"]').addClass("active")),4==modelTheme&&($(".theme-colors").find("button").not("green").removeClass("active"),$(".theme-colors").find('[id="skyblue"]').addClass("active")),5==modelTheme&&($(".theme-colors").find("button").not("green").removeClass("active"),$(".theme-colors").find('[id="yellow"]').addClass("active")),6==modelTheme&&($(".theme-colors").find("button").not("green").removeClass("active"),$(".theme-colors").find('[id="black"]').addClass("active")),4==sessionUserTypeId&&(0==chkSTC?$(".chkisSTC").hide():$(".chkisSTC").show()),setTimeout(function(){$(".form-box").find("input:first").focus()},2e3)}),$("#btnSubmit").click(function(){validateForm()}),$("#imgSignature").click(function(){$("#loading-image").css("display",""),$("#imgSign").attr("src",SRCSign).load(function(){logoWidthSign=this.width,logoHeightSign=this.height,$("#popupbox").modal({backdrop:"static",keyboard:!1}),$(window).height()<=logoHeightSign?($("#imgSign").closest("div").height($(window).height()-205),$("#imgSign").closest("div").css("overflow-y","scroll"),$("#imgSign").height(logoHeightSign)):($("#imgSign").height(logoHeightSign),$("#imgSign").closest("div").removeAttr("style")),screen.width<=logoWidthSign||logoWidthSign>=screen.width-250?($("#popupbox").find(".modal-dialog").width(screen.width-250),$("#imgSign").width(logoWidthSign)):($("#imgSign").width(logoWidthSign),$("#popupbox").find(".modal-dialog").width(logoWidthSign)),$("#loading-image").css("display","none")}),$("#imgSign").unbind("error"),$("#imgSign").attr("src",SRCSign).error(function(){alert("Image does not exist."),$("#loading-image").css("display","none")})}),$("#imgSignatureSE").click(function(){$("#loading-image").css("display",""),modelUserId>0&&(SRCSign=proofDocumentURL+"UserDocuments/"+modelUserId+"/"+$("#imgSign").attr("class")),$("#imgSignSE").attr("src",SRCSign),$("#imgSignSE").load(function(){logoWidth=this.width,logoHeight=this.height,$("#popupboxSE").modal({backdrop:"static",keyboard:!1}),$(window).height()<=logoHeight?($("#imgSignSE").closest("div").height($(window).height()-205),$("#imgSignSE").closest("div").css("overflow-y","scroll"),$("#imgSignSE").height(logoHeight)):($("#imgSignSE").height(logoHeight),$("#imgSignSE").closest("div").removeAttr("style")),screen.width<=logoWidth||logoWidth>=screen.width-250?($("#popupboxSE").find(".modal-dialog").width(screen.width-250),$("#imgSignSE").width(logoWidth)):($("#imgSignSE").width(logoWidth),$("#popupboxSE").find(".modal-dialog").width(logoWidth)),$("#loading-image").css("display","none")}),$("#imgSignSE").unbind("error"),$("#imgSignSE").attr("src",SRCSign).error(function(){alert("Image does not exist."),$("#loading-image").css("display","none")})}),$(".resp-tabs-list li").click(function(e,i){$(this);addRules(),isValid=$("#UserDetails").valid()}),$("#AddressID").change(function(){var e=$("#AddressID option:selected").val();POAddress(e)}),$("#chkSCA").change(function(){$(this).is(":checked")?$(".chkSCASignUp").show():$(".chkSCASignUp").hide()}),$("#imgViewLogo").click(function(){$("#loading-image").css("display",""),$("#imgLG").attr("src",SRCLG).load(function(){logoWidthLG=this.width,logoHeightLG=this.height,$("#popupboxlogo").modal({backdrop:"static",keyboard:!1}),$(window).height()<=logoHeightLG?($("#imgLG").closest("div").height($(window).height()-205),$("#imgLG").closest("div").css("overflow-y","scroll"),$("#imgLG").height(logoHeightLG)):($("#imgLG").height(logoHeightLG),$("#imgLG").closest("div").removeAttr("style")),screen.width<=logoWidthLG||logoWidthLG>=screen.width-250?($("#popupboxlogo").find(".modal-dialog").width(screen.width-250),$("#imgLG").width(logoWidthLG)):($("#imgLG").width(logoWidthLG),$("#popupboxlogo").find(".modal-dialog").width(logoWidthLG)),$("#loading-image").css("display","none")}),$("#imgLG").unbind("error"),$("#imgLG").attr("src",SRCLG).error(function(){alert("Image does not exist."),$("#loading-image").css("display","none")})}),$("#imgViewConfigre").click(function(){$("#myModal1").modal({backdrop:"static",keyboard:!1})});