function ReloadSectionAfterExportToCSVRECUpload(isKendoView){0==isKendoView?setTimeout((function(){SetParamsFromLocalStorage(),$("#datatable").dataTable().fnDraw()}),1e3):1==isKendoView&&setTimeout((function(){filter=$("#datatable").data("kendoGrid").dataSource.filter(),STCSubmissionKendoIntialiize(),drawSTCSubmissionKendoGrid(filter)}),1e3)}$(document).ready((function(){$("#ResellerId").select2(),$("#fileUpload").fileupload({url:urlBulkUploadImportRec,dataType:"json",done:function(e,data){data.result.status?($(".alert").hide(),$("#errorMsgRegion").removeClass("alert-danger"),$("#errorMsgRegion").addClass("alert-success"),$("#errorMsgRegion").html(closeButton+"File imported successfully."),$("#errorMsgRegion").show()):($(".alert").hide(),$("#errorMsgRegion").removeClass("alert-success"),$("#errorMsgRegion").addClass("alert-danger"),$("#errorMsgRegion").html(closeButton+data.result.message),$("#errorMsgRegion").show()),0==isKendoView?setTimeout((function(){SetParamsFromLocalStorage(),$("#datatable").dataTable().fnDraw()}),1e3):1==isKendoView&&setTimeout((function(){filter=$("#datatable").data("kendoGrid").dataSource.filter(),STCSubmissionKendoIntialiize(),drawSTCSubmissionKendoGrid(filter)}),1e3)}}),$("#ExportCSVRECData").click((function(e){selectedRows=[];var selectedRows_JobIDs=[],withoutSTC_JobIDs=[],flage=!0,withoutStcFlag=!1;if(0==$("#datatable tbody input:checked").length)return alert("Please select any job to export csv."),!1;var JobType="",gbBatchRecUploadId=$('#datatable tbody input[type="checkbox"]:checked').attr("gbbatchrecuploadid");if($('#datatable tbody input[type="checkbox"]').each((function(){if(1==$(this).prop("checked")){if(0==withoutStcFlag&&""!=JobType&&JobType!=$(this).parent().parent().find(".clsSTCStatusLabel").attr("data-jobtype"))return alert("All selected Jobs should have same job type to export csv."),flage=!1,!1;JobType=$(this).parent().parent().find(".clsSTCStatusLabel").attr("data-jobtype");var STCStatus=$(this).parent().parent().find(".clsSTCStatusLabel").text();if(0==withoutStcFlag&&""!=STCStatus&&null!=STCStatus&&"Ready To Create"==STCStatus.trim()&&gbBatchRecUploadId==$(this).attr("gbbatchrecuploadid")){var STCJobDetailsID=$(this).attr("id").substring(4),STCTerm=$(this).attr("term");selectedRows.push(STCJobDetailsID+"_"+STCTerm);var selectedJobID=$(this).parent().parent().find(".clsSTCStatusLabel").attr("data-JobID");selectedRows_JobIDs.push(selectedJobID)}else if(0==withoutStcFlag)return alert("STC status must be 'Ready To Create' and 'REC BulkUploadId' same for all selected jobs."),selectedRows=null,!1;var stc=$(this).attr("stc");if(""==stc||null==stc||"0"==stc||"NaN"==stc||"null"==stc){var withoutSTCJobId=$(this).attr("JobID");withoutSTC_JobIDs.push(withoutSTCJobId),selectedRows=null,withoutStcFlag=!0}}})),null!=withoutSTC_JobIDs&&withoutSTC_JobIDs.length>0&&1==withoutStcFlag&&($(".alert").hide(),$("#errorMsgRegion").removeClass("alert-success"),$("#errorMsgRegion").addClass("alert-danger"),$("#errorMsgRegion").html(closeButton+"These jobs with job ID: ["+withoutSTC_JobIDs+"]  does not have STC values. Please review and calculate the STCs."),$("#errorMsgRegion").show()),null!=selectedRows&&selectedRows.length>0&&flage&&0==withoutStcFlag){console.log(JobType);var rId=0;1!=UserTypeID&&3!=UserTypeID||(rId=document.getElementById("ResellerId").value),console.log(JobType),"1"==JobType?$.ajax({url:checkInstallationDateURL+"?JobID="+selectedRows_JobIDs.join(","),type:"POST",async:!0,dataType:"json",contentType:"application/json; charset=utf-8",success:function(data){"false"==data.status?($(".alert").hide(),$("#errorMsgRegion").removeClass("alert-success"),$("#errorMsgRegion").addClass("alert-danger"),$("#errorMsgRegion").html(closeButton+data.message),$("#errorMsgRegion").show()):(window.location.href=urlBulkUploadREC_ExportCSV+"?JobID="+selectedRows_JobIDs.join(",")+"&ResellerId="+rId+"&JobType="+JobType,ReloadSectionAfterExportToCSVRECUpload(isKendoView))}}):(window.location.href=urlBulkUploadREC_ExportCSV+"?JobID="+selectedRows_JobIDs.join(",")+"&ResellerId="+rId+"&JobType="+JobType,ReloadSectionAfterExportToCSVRECUpload(isKendoView))}}))}));