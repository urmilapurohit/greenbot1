function init(e){$("#loading-image").show();var a=e;$.ajaxSetup({cache:!1}),PDFJS.workerSrc=pdfWorkerJsPath,PDFJS.getDocument(a).then(function(e){pdfDoc=e,0==pdfDoc.numPages&&$("#loading-image").hide(),pdfDoc.numPages>0&&($("#total-page").html(pdfDoc.numPages),TotalCount=pdfDoc.numPages);for(var a=1;1==pdfDoc.numPages?a<=pdfDoc.numPages:a<pdfDoc.numPages;a++)renderPage(a,0,0,!0)})}function removeOptions(e){var a;for(a=e.options.length-1;a>=0;a--)e.remove(a)}function jobSignChange(){}function resetClick(){$("#jSignature").jSignature("reset"),$("#SendSignSmsFirstname").removeAttr("disabled"),$("#SendSignSmsLastname").removeAttr("disabled"),$("#SendSignSmsMobileNo").removeAttr("disabled"),$("#SendSignSmsEmail").removeAttr("disabled"),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.readOnly=!1,$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data)}function redoClick(){for(var e,a=0;a<undoData.length;a++)undoData[a].id==id&&(e=undoData[a].value.pop(),null!=e&&$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data.push(e));null!=e&&$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data)}function undoClick(){for(var e={value:[]},a=!1,t=$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data.pop(),n=0;n<undoData.length;n++)if(undoData[n].id==id){undoData[n].value.push(t),a=!0;break}a||(e.id=id,e.value.push(t),undoData.push(e)),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data)}function addSelectBoxForPageAcroFieldsToForm(e){}function renderPage(e,a,t,n){pageRendering=!0,pdfDoc.getPage(e).then(function(a){var t=$(window).width(),i=a.getViewport(t/1350),r=i.width,d=i.height;$("#viewer").css("max-height",d+"px");var s=document.createElement("div");s.className="pdfpage",s.setAttribute("pagenumber",e),s.style.width=r+1+"px",s.style.height=d+5+"px",div.appendChild(s);var l=document.createElement("canvas"),u=l.getContext("2d");l.width=r,l.height=d,s.appendChild(l),$("#popupViewer").find(".vertical-align-center").css("width",r+30+"px");var o={canvasContext:u,viewport:i},g=a.render(o);g.promise.then(function(){n&&addSelectBoxForPageAcroFieldsToForm(a),pageRendering=!1,null!==pageNumPending&&(renderPage(pageNumPending,pageLeftPending,pageTopPending),pageNumPending=null,pageLeftPending=0,pageTopPending=0)});var c=document.createElement("div");s.appendChild(c),setupForm(c,a,i),e>=pdfDoc.numPages?$("#loading-image").hide():(e++,queueRenderPage(e,0,0,!0))})}function generateSignatureId(){var e=1;return $(".jSignature").each(function(){$(this).parent().attr("id").includes(e)&&e++}),e}function setupForm(e,a,t){function n(e,a){if(e.name in formFields){var t=formFields[e.name];"checkbox"==e.type?e.checked=t:"radio"==this.type?e.checked=t:e.type&&"text"!=e.type||(e.value=t)}e.onchange=function(){"checkbox"==e.type?formFields[e.name]=e.checked:"radio"==this.type?formFields[e.name]=e.checked:e.type&&"text"!=e.type||(formFields[e.name]=e.value)}}function i(e,a){var n=document.createElement(e),i=PDFJS.Util.normalizeRect(t.convertToViewportRectangle(a.rect));return n.style.left=Math.floor(i[0])+"px",n.style.top=Math.floor(i[1]+t.offsetY)+"px",n.style.width=Math.ceil(i[2]-i[0])+"px",n.style.height=Math.ceil(i[3]-i[1])+"px",n}function r(e,a){var n="";switch("fontSize"in a&&(n+="font-size: "+Math.round(a.fontSize*t.fontScale)+"px;"),a.textAlignment){case 0:n+="text-align: left;";break;case 1:n+="text-align: center;";break;case 2:n+="text-align: right;"}e.setAttribute("style",e.getAttribute("style")+n)}a.getAnnotations().then(function(a){for(var t=0;t<a.length;t++)if(-1==fieldNames.indexOf(a[t].fullName[0])){fieldNames.push(a[t].fullName[0]);var d=a[t];switch(d.subtype){case"Widget":if("Tx"!=d.fieldType&&"Btn"!=d.fieldType&&"Ch"!=d.fieldType)break;var s=i("div",d);!d.fieldValue.includes("jsignature")||d.fieldValue.includes("image")?s.className="inputHint":s.className="inputHint sign";var l,u=generateSignatureId();e.appendChild(s),"Tx"==d.fieldType?d.fieldValue.includes("jsignature")||d.fieldValue.includes("image")?(l=i("div",d),l.id="jSignature"+u,l.style="border: 1px dotted rgb(0, 0, 0) !important;opacity:0.8;",l.setAttribute("name",d.fullName)):l=4096==d.fieldFlags?i("textarea",d):i("input",d):65537&d.fieldFlags?(l=i("div",d),l.id="jSignature"+u,l.style="border: 1px dotted rgb(0, 0, 0) !important;opacity:0.8;",l.setAttribute("name",d.fullName)):"Btn"==d.fieldType&&(l=i("input",d),32768&d.fieldFlags?l.type="radio":65536&d.fieldFlags?l.type="button":l.type="checkbox"),"Ch"==d.fieldType&&(l=i("select",d)),"radio"!=l.type&&"checkbox"!=l.type||!d.fullName?l.name=d.fullName[0]:$.each(d.fullName,function(e){e==d.fullName.length-1&&validation.isGlyphsNumber(this)||(l.name+=(e>0?".":"")+this)}),"Btn"==d.fieldType&&d.fieldFlags?(s.appendChild(l),$("#jSignature"+u).jSignature({lineWidth:2})):(l.title=d.alternativeText,l.className="inputControl",r(l,d),n(l,d),e.appendChild(l))}}setInputValuesAtInit()})}function queueRenderPage(e,a,t){pageRendering?(pageNumPending=e,pageLeftPending=a,pageTopPending=t):renderPage(e,a,t,!1)}function signatureChange(e){clickSignId=$(e).attr("id");var a=$(e).attr("lineWidth"),t=$("#"+clickSignId).jSignature("getData","base30");$("#popupSignature").modal({backdrop:"static",keyboard:!1}),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.lineWidth=a,$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.signatureLine=!0,$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data),""==t[1]?$("#jSignature").jSignature("reset"):($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.readOnly=!0,$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data),$("#jSignature").jSignature("setData","data:"+t.join(","))),$("#captureSignDetail").hide(),$(".input-validation-error").removeClass("input-validation-error"),$("#signatureSend").trigger("reset")}function getInheritableProperty(e,a){for(var t=e;t&&!t.has(a);)t=t.get("Parent");return t?t.get(a):null}function setValueInTextareaTextBox(e,a){$(e+'[name="'+a.FieldName+'"]').val(a.Value.replace(/\/"/g,'"')),null!=a.PdfItemProperties.TextColor?$(e+'[name="'+a.FieldName+'"]').css("color",a.PdfItemProperties.TextColor):$(e+'[name="'+a.FieldName+'"]').css("color","black"),null!=a.PdfItemProperties.BackgroundColor&&"rgb(203, 247, 203)"!=a.PdfItemProperties.BackgroundColor?$(e+'[name="'+a.FieldName+'"]').css("background-color",a.PdfItemProperties.BackgroundColor):$(e+'[name="'+a.FieldName+'"]').css("background-color","#dde4ff"),null!=a.PdfItemProperties.BorderColor&&$(e+'[name="'+a.FieldName+'"]').css("border",a.PdfItemProperties.BorderColor),null!=a.PdfItemProperties.Alignment&&$(e+'[name="'+a.FieldName+'"]').css("text-align",a.PdfItemProperties.Alignment),null!=a.PdfItemProperties.FontSize&&$(e+'[name="'+a.FieldName+'"]').css("font-size",a.PdfItemProperties.FontSize+"px"),a.PdfItemProperties.Bold&&$(e+'[name="'+a.FieldName+'"]').css("font-weight","bold"),a.PdfItemProperties.Italic&&$(e+'[name="'+a.FieldName+'"]').css("font-style","italic"),a.PdfItemProperties.FontName&&$(e+'[name="'+a.FieldName+'"]').css("font-family",a.PdfItemProperties.FontName),a.PdfItemProperties&&a.PdfItemProperties.MaxLength&&$(e+'[fieldname="'+a.FieldName+'"]').attr("maxLength",a.PdfItemProperties.MaxLength)}function showMessage1(e,a){$(".alert").hide();var t=a?"errorMsgRegion1":"successMsgRegion1",n=a?"successMsgRegion1":"errorMsgRegion1";$("#"+n).hide(),$("#"+t).html(closeButton+e),$("#"+t).show()}function disabledPageIcon(e){e<1&&(e=1,$("#current-page").val(1)),e>1?$("#previous-page").show():$("#previous-page").hide(),e>=pdfDoc.numPages?$("#next-page").hide():$("#next-page").show()}function setPageNumber(){$("#viewer").find(".pdfpage").each(function(){$(this).position().top-$("#header").innerHeight()-$(".title").innerHeight()-20-10<=0&&$("#current-page").val($(this).attr("pagenumber"))})}function readURL(e){if(e.files&&e.files[0]){var a,t,n,i=window.URL||window.webkitURL,r=new FileReader;a=new Image,a.onload=function(){t=this.width,n=this.height,r.onload=function(a){$(e).parent().parent().find(".image").attr("src",a.target.result),$(e).parent().parent().find(".image").attr("width",t),$(e).parent().parent().find(".image").attr("height",n),$(e).parent().parent().find(".image").show(),$("input[type=radio][name=aspectratio]").change()},r.readAsDataURL(e.files[0])},a.src=i.createObjectURL(e.files[0])}}function clearSignature(e){$(e).parent().jSignature("reset")}var clickSignId,undoData=[],count=0;pdfItemsStr=pdfItemsStr.replace(/\\/g,"/").replace(/\/"/g,'\\"');var pdfItems=[];pdfItemsStr&&(pdfItems=JSON.parse(pdfItemsStr));var pdfDoc=null,pageNum=1,pageRendering=!1,pageNumPending=null,pageLeftPending=0,pageTopPending=0,pdfPageWidth=0,pdfPageHeight=0,pdfRotate=0,formFields={},div=document.getElementById("viewer"),fieldNames=[];$("#popupSignature").off().on("shown.bs.modal",function(){$.ajax({url:getCaptureSignDetail,type:"post",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({jobDocId:$("#jobDocId").val(),fieldname:$("#"+clickSignId).attr("name")}),success:function(e){if(e.status){0==$("#"+clickSignId).parent().css("opacity")?($('[name="signType"][value="M"]').prop("checked",!0),$("#popupSignature .modal-body").css("height","400px"),$('[name="signType"][value="D"]').prop("disabled",!0),$('[name="signType"]').parent().parent().parent().parent().prev().find("h4").html("Send SMS"),$("#mobileNumberForSms").show(),$("#btnSaveSign").hide(),$("#btnSendSignatureUrl").show(),$("#jSignature").hide()):($('[name="signType"][value="D"]').prop("checked",!0),$("#popupSignature .modal-body").css("height","600px"),$('[name="signType"][value="D"]').prop("disabled",!1),$('[name="signType"]').parent().parent().parent().parent().prev().find("h4").html("Draw Signature"),$("#mobileNumberForSms").hide(),$("#btnSaveSign").show(),$("#btnSendSignatureUrl").hide(),$("#jSignature").show()),$("#jSignature .jSignature").length>1&&($("#jSignature .jSignature").hide(),$($("#jSignature .jSignature")[0]).show()),e.isData?($("#captureSignDetail").show(),$("#captureSignDetail").css("margin-top","15px"),$("#signCaptureName").text(e.firstname+" "+e.lastname),$("#signCaptureMobile").text(e.mobilenumber),$("#signCaptureEmail").text(e.email),$("#SendSignSmsFirstname").val(e.firstname),$("#SendSignSmsFirstname").attr("disabled","disabled"),$("#SendSignSmsLastname").val(e.lastname),$("#SendSignSmsLastname").attr("disabled","disabled"),$("#SendSignSmsMobileNo").val(e.mobilenumber),$("#SendSignSmsMobileNo").attr("disabled","disabled"),$("#SendSignSmsEmail").val(e.email),$("#SendSignSmsEmail").attr("disabled","disabled")):($("#captureSignDetail").hide(),$("#SendSignSmsFirstname").val(""),$("#SendSignSmsLastname").val(""),$("#SendSignSmsMobileNo").val(""),$("#SendSignSmsEmail").val(""),resetClick());var a=$("#jSignature .jSignature").width();$("#jSignature .jSignature").height(150),$("#jSignature .jSignature").width(a),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").$controlbarLower.css("margin-bottom","5.0em"),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.lineWidth=2,$("#jSignature").find("canvas").attr("width",a+"px !important"),$("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").resetCanvas($("#jSignature").find("canvas.jSignature").add($("#jSignature").filter("canvas.jSignature")).data("jSignature.this").settings.data),$("#jSignature").append('<input type="button" class="reset" onclick=resetClick() id="resetBtn" value="Clear Signature" style="position: absolute; top: auto; margin: 0px !important; left: 10px;">')}}})}),$(document).ready(function(){var e;$('[name="signType"]').change(function(){var e=$(this).val();"D"==e?($(this).parent().parent().parent().parent().prev().find("h4").html("Draw Signature"),$("#mobileNumberForSms").hide(),$("#jSignature").show(),$("#btnSaveSign").show(),$("#btnSendSignatureUrl").hide(),$("#popupSignature .modal-body").css("height","600px")):($(this).parent().parent().parent().prev().find("h4").html("Send SMS"),$("#jSignature").hide(),$("#mobileNumberForSms").show(),$("#btnSaveSign").hide(),$("#btnSendSignatureUrl").show(),$("#popupSignature .modal-body").css("height","400px"),$("#popupSignature .modal-body").css("height","400px"))}),$("#btnSave").click(function(){null!=pdfItems&&$.each(pdfItems,function(e,a){($('input[name="'+a.FieldName+'"]')||$('div[name="'+a.FieldName+'"]').length>0)&&(a.Type.toString()==texthashCode||a.Type.toString()==buttonhashCode?a.IsImageField&&""==a.Base64?(a.Value=$('div[name="'+a.FieldName+'"]').find(".image").attr("src"),a.Base64=$('div[name="'+a.FieldName+'"]').find(".image").attr("src")):a.Value.includes("base64")||(a.Value.includes("jsignature")?(datapair=$('div[name="'+a.FieldName+'"]').jSignature("getData","base30"),a.Value=datapair.join(","),a.Base64=$('div[name="'+a.FieldName+'"]').jSignature("getData","image").join(",")):a.IsTextArea?a.Value=$.trim($('textarea[name="'+a.FieldName+'"]').val()):a.Value=$.trim($('input[name="'+a.FieldName+'"]').val())):a.Type.toString()==radiohashCode?a.Value=$('input[name="'+a.FieldName+'"]:checked').val()?$('input[name="'+a.FieldName+'"]:checked').val():"":a.Type.toString()==checkhashCode&&(a.Value=$('input[name="'+a.FieldName+'"]').val()?$('input[name="'+a.FieldName+'"]').val():""))});var a={};a.Data=JSON.stringify(pdfItems),a.PDFURL=$("#PDFURL").val(),a.PDFSource=$("#PDFSource").val(),a.JobId=$("#JobId").val(),a.DocId=$("#DocId").val(),a.JobDocId=$("#jobDocId").val(),a.Base64=e;var t=JSON.stringify({documentCollectionView:a,lstCaptureUserSign:signDetail});return $.ajax({url:urlSaveDocument,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",processData:!1,data:t,success:function(e){showMessage1("Document has been saved successfully.",!1),signDetail.map(e=>e.IsSave=!0),SearchHistory()},error:function(e){showMessage1("Document has not been saved.",!0)}}),!1})});var pageNumber,validation={isGlyphsNumber:function(e){var a=/^`+\d+$/;return a.test(e)}},setInputValuesAtInit=function(){count++,count==pdfDoc.numPages&&(null!=pdfItems&&$.each(pdfItems,function(e,a){try{if(a.Type.toString()==texthashCode||a.Type.toString()==buttonhashCode)if(a.Value.includes("base64")&&$('div[name="'+a.FieldName+'"]').parent().css("opacity",0),a.Value.includes("jsignature")){if($('div[name="'+a.FieldName+'"]').length>0)for(i=0;i<$('div[name="'+a.FieldName+'"]').length;i++){var t=$($('div[name="'+a.FieldName+'"]')[i]);if(null!=a.PdfItemProperties.BackgroundColor?t.css("background-color",a.PdfItemProperties.BackgroundColor):t.css("background-color","#dde4ff"),!a.IsDraw)if(""==a.Value.split(",")[1])t.find("canvas.jSignature").hide();else{var n=t.height()/150,r=t.width()/720;document.getElementById(t.attr("id")).children[1].getContext("2d").scale(r,n),t.attr("scale",r+","+n),t.attr("lineWidth",a.lineWidth),t.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.lineWidth=4,t.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.readOnly=!0,t.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").resetCanvas(t.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.data),t.jSignature("setData","data:"+a.Value)}}}else if(a.ReadOnly&&($('input[name="'+a.FieldName+'"]').hide(),$('input[name="'+a.FieldName+'"]').prev().hide()),a.IsTextArea){var d=String.fromCharCode(13,10);a.Value=a.Value.replaceAll("//n",d),setValueInTextareaTextBox("textarea",a)}else setValueInTextareaTextBox("input",a);else if(a.Type.toString()==radiohashCode){var s=a.AvailableValues;s=$.grep(s,function(e,a){return null!=e?"off"!=e.toLowerCase():""}),$.each($('input[name="'+a.FieldName+'"]'),function(e){this.value=s.length-(e+1)>-1&&s.length-(e+1)<s.length?s[s.length-(e+1)]:""}),$('input[name="'+a.FieldName+'"][value="'+a.Value+'"]').prop("checked",!0)}else if(a.Type.toString()==checkhashCode)if(a.FieldName.includes("IsSameAsOwnerAddress"))"True"==a.Value?$('input[name="'+a.FieldName+'"]').prop("checked",!0):$('input[name="'+a.FieldName+'"]').prop("checked",!1);else{s=a.AvailableValues;1==$('input[name="'+a.FieldName+'"]').length?$.each($('input[name="'+a.FieldName+'"]'),function(e){$("[id^="+a.FieldName+"_]").length;$(this).attr("id",a.FieldName),this.value=s[0],"on"==a.Value||a.Value==s[0]?($(this).prop("checked",!0),$(this).val("on")):($(this).prop("checked",!1),$(this).val(""))}):$.each($('input[name="'+a.FieldName+'"]'),function(e){$("[id^="+a.FieldName+"_]").length;$(this).attr("id",a.FieldName),this.value=s[s.length-(e+1)],a.Value==this.value&&$(this).prop("checked",!0)})}if(a.IsImageField||a.FieldName.includes("Reseller_Signature"))if(""!=a.Base64||a.FieldName.includes("Reseller_Signature"))$('div[name="'+a.FieldName+'"]').parent().remove();else{var l=$('div[name="'+a.FieldName+'"]').parent();$('div[name="'+a.FieldName+'"]').remove();t=$('<div name= "'+a.FieldName+'"><img src="" class="image" style="display:none;"/><div class="fileUpload primary document_imageUpload"><span>Upload</span><input type="file" class="upload" value="Upload" accept="image/x-png,image/gif,image/jpeg" onchange="readURL(this);"/></div></div>');$(l).append(t)}if(a.IsDraw){var u=$('div[name="'+a.FieldName+'"]'),o=(u.attr("id"),u.find("canvas.jSignature")[0].getContext("2d"));o.scale(.75,.75),o.restore(),u.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.lineWidth=.75*a.lineWidth,u.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.readOnly=!1,u.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").resetCanvas(t.find("canvas.jSignature").add(t.filter("canvas.jSignature")).data("jSignature.this").settings.data),u.attr("onclick","").unbind("click"),u.append('<input type="button" class="reset" onclick=clearSignature(this) id="clearSign" value="Clear Signature" style="position: absolute; top: auto; margin: 0px !important; left: 10px;">'),u.jSignature("setData","data:"+a.Value),o.scale(1.33,1.33),o.restore()}}catch(e){}}),$('#popupViewerDoc input[type="checkbox"]').click(function(){$(this).prop("checked")?($('input[name="'+$(this).attr("name")+'"]').val("on"),$('input[name="'+$(this).attr("name")+'"]').prop("checked",!0)):($('input[name="'+$(this).attr("name")+'"]').val(""),$('input[name="'+$(this).attr("name")+'"]').prop("checked",!1))})),$("#popupViewerDoc input[type=checkbox]").each(function(){var e=$("<label>");e.attr("for",this.id),e.attr("style",$(this).attr("style")),e.css("position","absolute"),$(this).after(e)})};String.prototype.replaceAll=function(e,a){var t=this;do{var n=t.split(e);t=n.join(a)}while(n.length>1);return t},$(".modal").on("hidden.bs.modal",function(e){$(".modal").hasClass("in")&&$("body").addClass("modal-open")}),$("#next-page").click(function(){var e=parseInt($("#current-page").val());TotalCount!=e&&(disabledPageIcon(e+1),CurrentPageNo=e+1,$("#current-page").val(e+1),$("#current-page").focusout())}),$("#previous-page").click(function(){var e=parseInt($("#current-page").val());1<e&&(disabledPageIcon(e-1),CurrentPageNo=e-1,$("#current-page").val(e-1),$("#current-page").focusout())}),$("#viewer").scroll(function(){0==$("#document-paging").val()&&(setPageNumber(),disabledPageIcon(parseInt($("#current-page").val())))}),$("#current-page").keydown(function(e){"13"==e.which&&$("#current-page").focusout()}),$("#current-page").focus(function(){pageNumber=$(this).val()}),$("#current-page").focusout(function(){var e=parseInt($("#current-page").val());if(e>0){if($("#current-page").val()<=pdfDoc.numPages)if(0==$("#document-paging").val()){var a=$("#viewer").offset().top,t=$($("#viewer").find(".pdfpage")[$("#current-page").val()-1]).offset().top-a,n=$("#viewer").scrollTop();t>window.innerHeight&&$("#viewer").animate({scrollTop:t+n},100),t<0&&$("#viewer").animate({scrollTop:Math.abs(t+n)},100)}else{var i=parseInt($("#current-page").val());CurrentPageNo=i,init($("#PDFURL").val()+"?h="+GetDateTimeTick()),disabledPageIcon(i)}else $("#current-page").val(pageNumber);$("#current-page").val()<1?$("#current-page").val(1):$("#current-page").val()>pdfDoc.numPages&&$("#current-page").val(pdfDoc.numPages)}disabledPageIcon(e)});